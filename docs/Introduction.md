# w3af 基本介绍 (Introduction)

在运行 `w3af` 之前，用户需要了解有关应用程序如何在后台工作的基础知识。这将使用户在识别和利用漏洞的过程中更加高效。

## 主要插件类型 (Main plugin types)

该框架有三个主要的插件类型：`crawl`，`audit` 和 `attack`。


### 抓取插件 (crawl plugins)

抓取插件只有一个责任，即查找新的URL，表单和其他注入点。发现插件的经典示例是网络蜘蛛(web spider)。该插件将 URL 作为输入并返回一个或多个注入点。

当用户启用多个此类型的插件时，它们将循环运行：

如果 `plugin A` 在第一次运行中找到新的 URL `w3af core` 会将这个 URL 发送到 `plugin B`。 如果 `plugin B` 之后发现了新的 URL 这个 URL 会被发送到 `plugin A` 。 该过程将继续进行，直到所有插件都已运行并且找不到有关该应用程序的更多信息。


### 审计插件 (audit plugins)

审计插件获取抓取插件发现的注入点，并将畸形数据发送给所有注入点，以识别漏洞。审计插件的一个经典示例是通过发送 `a'b"c` 到所有注入点来搜索SQL 注入漏洞的插件。

### 攻击插件 (attack plugins)

攻击插件的目标是利用审计插件发现的漏洞。他们通常在远程服务器上返回一个 shell ，或者在进行SQL注入攻击的情况下返回远程表的转储(dump)。

## 其他插件 (Other plugins)

### 基础设施插件 (Infrastructure)

基础设施插件标识有关目标系统的信息，例如已安装的WAF（Web应用程序防火墙），操作系统和HTTP守护程序。

### Grep 插件

Grep 插件分析其他插件发送的 HTTP 请求 和 响应并确定漏洞。例如，一个 grep 插件将在 HTML 正文中找到带有单词 "password" 的注释，并产生一个漏洞告警。

### 输出插件 (Output)

输出插件是框架和插件与用户通信的方式。输出插件将数据保存到文本，xml 或 html 文件中。调试信息也将发送到输出插件，并可以保存以进行分析。

被发送到 输出管理器 (output manager) 的所有消息都会发送到所有启用的输出插件上，如果你已经启用了 `text_file` 和 `xml_file` 的输出插件，这两者都会记录 审计插件 发现的所有漏洞告警。

>
> 1 你可以将 w3af 发现的漏洞通过 REST API 直接发送到内部 issue tracker 服务器上。
> 2 可以将 w3af 的 xml 输出结果导入其他用具来使用。

### Mangle 插件

允许基于正则表达式修改请求和响应，类似于 web 上的 sed。 
(sed 是一款知名的 流编辑器)

### 枚举插件 (Bruteforce)

对爬取阶段发现的登陆表单进行枚举/暴力破解。

### 隐蔽插件 (Evasion)

对其他插件生成的 HTTP 请求进行修改，以规避防御方的入侵检测规则。

## 扫描设置 (Scan configuration)

在配置 `crawl` 和 `audit` 插件以及设置目标 URL 之后，用户将开始扫描并等待漏洞出现在用户界面中。

在扫描阶段发现的任何漏洞都存储在知识库中；用作 `attack` 插件的输入。扫描完成后，用户将能够使用 `attack` 插件对已识别的漏洞进行漏洞利用。

## 配置建议

> 警告：扫描时间将在很大程度上取决于 您启用的 crawl 和 audit 插件的数量。 

在大多数情况下，我们建议 `w3af` 使用以下配置运行：

`crawl`： `web_spider`

`audit`： `Enable all`

`grep`： `Enable all`

